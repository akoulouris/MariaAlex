<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Maria Alex</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <meta name="MobileOptimized" content="320">
        <link rel="stylesheet" type="text/css" href="css/style.css" />
        <!-- <link rel="stylesheet" type="text/css" href="css/bootstrap.css"/> -->
        <link href="https://fonts.googleapis.com/css?family=Great+Vibes&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
         <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
         <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
         <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> -->
    </head>
    <body>  
        
        <script>
           
                       $.fn.isInViewport = function() {
                            var elementTop = $(this).offset().top;
                            var elementBottom = elementTop + $(this).outerHeight();
                            var heightTopBar = $( ".wd_header_wrapper" ).height()
                            var viewportTop = $(window).scrollTop()+heightTopBar;
                            var viewportBottom = viewportTop + $(window).height();
                           return elementBottom > viewportTop && elementTop < viewportBottom;
                        };
             
                $(document).ready(function() {
                    setTimeLine()
                
                    yourFunction();
                    $(".headbottom").on('click', function(e) {
                            e.preventDefault();
                            var Destination = $("div[section-scroll='1']")
                            var heightTopBar = $( ".wd_header_wrapper" ).height()
                            $('html, body').animate({
                            scrollTop: (Destination.offset().top - heightTopBar+1)
                        }, 'slow');
                    });

                    $(".wd_menu_btn").on('click', function(e) {
                        $(".wd_main_menu_wrapper").toggleClass("wd_main_menu_hide");
                        $(".fa").toggleClass("fa-close");
                        $(".fa").toggleClass("fa-bars");
                    });

                    $(".wd_main_menu ul:nth-child(1) li a").on('click', function(e) { 
                        var navItem= $( this ).attr("href");
                         var Destination = $("div[section-scroll='"+navItem+"']")
                            var heightTopBar = $( ".wd_header_wrapper" ).height()
                                $('html, body').animate({
                                    scrollTop: (Destination.offset().top - heightTopBar+1)
                                }, 'slow');
                                return false;
                    });
                             
                });
                   
                function yourFunction(){
                    $("#headbottom").addClass("headbottom");  
                        setTimeout(function() {
                            $("#headbottom").removeClass("headbottom");
                        }, 2000);
                setTimeout(yourFunction,7000);
                }
         
                $(window).on('resize scroll', function() {
                   
                    $('div[section-scroll]').each(function() {
                        if ($(this).isInViewport()) {
                        var navItem= $( this ).attr("section-scroll");
                        $(".wd_main_menu ul:nth-child(1) li").removeClass("active");
                        $("a[href='"+navItem+"']").parent().addClass("active");
                          return false; 
                        }
                        
                        });

                });
        
              var hasBeenTrigged = false;
              
             $(window).scroll(function() {
                
                                if ($(this).scrollTop() >= 300) {
                                    $(".wd_header_wrapper").addClass("fadeInDown");
                                    $(".wd_header_wrapper").addClass("animated");
                                    $(".wd_header_wrapper").addClass("menu_fixed");
                                } else {
                                    $(".wd_header_wrapper").removeClass("fadeInDown");
                                    $(".wd_header_wrapper").removeClass("animated");
                                    $(".wd_header_wrapper").removeClass("menu_fixed");
                                }

                                if ($(this).scrollTop() >= 250) {
                                    $(".aboutUs").addClass("fadeInDown");
                                    $(".aboutUs").addClass("animated");
                                    $(".aboutUs").removeAttr("style")
                                }

                                if ($(this).scrollTop() >= 750) {
                                    $(".OurTruLoveStoryAnimation").addClass("fadeInDown");
                                    $(".OurTruLoveStoryAnimation").addClass("animated");
                                    $(".OurTruLoveStoryAnimation").removeAttr("style")
                                }

                });

                            function setTimeLine(){
                              $.getJSON("https://raw.githubusercontent.com/akoulouris/MariaAlex/master/data/TimeLine.json", function(result){
                                           var html='';
                                        $.each(result.timeLineItems, function(index, d){
                                            
                                               var rightORleft = ''
                                               if (isEven(index)){rightORleft ="wd_story_covers_box_left"}else{rightORleft="wd_story_covers_box_right"};
                                              // var html = "<div class='col-lg-12 col-md-12 col-sm-12 col-xs-12'>"+
                                                              //  "<div class='wd_story_covers'>"+
                                                                 //   "<div class='wd_story_line'></div>"+
                                                          var html =   "<div class='"+ rightORleft +"'>"+
                                                                        "<div class='wd_story_dot'><span></span></div>"+
                                                                        "<div class='wd_story_covers_box_img'>"+
                                                                            "<img src='images/"+ d.photo +"' alt='Story'>"+
                                                                        "</div>"+
                                                                        "<div class='wd_story_covers_box_datails'>"+
                                                                            "<span>"+d.date+"</span>"+
                                                                            "<h1>"+d.Title+"</h1>"+ 
                                                                            "<span>"+d.SubTitle+"</span>"+
                                                                            "<p>This is Photoshop's version  of Lorem Ipsum. Proin gravida nibh vel velit auctor aliquet. Aenean sollicitudin, lorem quis bibendum auctor...</p>"+
                                                                        "</div>"+
                                                                   "</div>"
                                                               // "</div>"+
                                                          //  "</div>"
                                               $("#timeLine").append(html);
                                        });
                                });
                                        
                            }

                            function isEven(value) {
                                if (value%2 == 0)
                                    return true;
                                else
                                    return false;
                            }
     
    </script>
 
         <div class="sector1" section-scroll="0">   
            <div class="Header">  
                <div id="snow"></div>
                <div class="wd_header_wrapper">
                    <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
                        <div class="wd_logo">
                            <img src="images/MariaAlexLogo2.png" alt="Logo" title="Logo"  class="img-responsive">
                            <button class="wd_menu_btn"><i class="fa fa-bars" aria-hidden="true"></i></button> 
                        </div>
                    </div>
                   <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12">
                          <div class="wd_mainmenu_wrapper">
                            <div class="wd_main_menu_wrapper ">
                                <div class="wd_main_menu wd_single_index_menu">
                                    <ul>
                                        <li  class="active"><a href="0">Home</a></li>
                                        <li><a href="1">About Us</a></li>
                                        <li><a  href="2">Love Story</a></li>
                                        <li><a href="3">Events</a></li>
                                        <li><a href="4">Rsvp</a></li>
                                        <li><a href="5">Family</a></li>
                                        <li><a href="6">Gallery</a></li>
                                        <li><a href="7">Blog</a></li>
                                        <li><a href="8">Contact Us</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
                <div class="MA_textinfo">
                    <!-- <div style=" position: relative;    height: 100%;  text-align: center;"> -->
                        <img src="./images/AlexMaria1.png" alt="" class="img-responsive">
                        
                     <div id="timer" class="timer">
                        <!--  Timer Component  -->
                          <Timer 
                                 starttime="Nov 16, 2013 21:00:00" 
                                 endtime="Nov 8, 2022 16:37:25" 
                                 trans='{  
                                 "year":"Year",
                                 "day":"Day",
                                 "hours":"Hours",
                                 "minutes":"Minuts",
                                 "seconds":"Seconds",
                                 "expired":"Event has been expired.",
                                 "running":"Till the end of event.",
                                 "upcoming":"Till start of event.",
                                 "status": {
                                    "expired":"Expired",
                                    "running":"Running",
                                    "upcoming":"Future"
                                   }}'
                                 ></Timer>
                        <!--  End! Timer Component  -->
                        </div>
                    <!-- </div>    -->
                </div>
                <li class="whiteBorder"><a href="#1" id="headbottom">
                    <i class="fa fa-long-arrow-down" aria-hidden="true"></i>                  
                </a></li>
            </div> 
       </div> 
       <!-- <div class="sector1" style="padding-bottom: 85px;background: url(./images/profil_background.jpg);">      -->
        <!-- <div class="wd_heading">

        </div> -->
        <div id="sector2" class="" style="float: left;width: 100%;" section-scroll="1">       
           <div class="container" style="padding-top:60px;">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="wd_heading aboutUs" data-wow-delay="0.3s"style="visibility: hidden; animation-delay: 0.3s; animation-name: none;" >
                            <h1>welcome  Our Stars</h1>
                        </div>
                    </div>
                    <div class=" col-lg-6 col-md-6 col-sm-12 col-xs-12 d-inline-block">
                        <div class="infoBox_img"  style="">
                            <img src="./images/Maria_Mitsaki.jpg" alt="" style="margin: auto;height: 288px; border-width: 1px;   border-color: #6b6ee9;   border-style: solid;   border-radius: 50%;" class="img-responsive">                      
                        </div>
                        <h2 style="float: left; width: 100%;font-size: 30px;text-transform: capitalize;color: #6b6ee9;font-family: 'Great Vibes', cursive;line-height: 1.1;font-weight: 400;text-align: center;    padding-top: 22px;font-size: 36px;">Maria Mitsaki</h2>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-21 col-xs-12 col-lg-push-4 col-md-push-4 col-sm-push-0">
                        <div class="infoBox_img"  style="">
                            <img src="./images/Alexandros_Koulouris.jpg" alt="" style="margin: auto;height: 288px;  border-width: 1px;   border-color: #6b6ee9;   border-style: solid;  border-radius: 50%;" class="img-responsive">                      
                        </div>
                            <h2 style="float: left; width: 100%;font-size: 30px;text-transform: capitalize;color: #6b6ee9;font-family: 'Great Vibes', cursive;line-height: 1.1;font-weight: 400;text-align: center;    padding-top: 22px;font-size: 36px;">Alexandros Koulouris</h2>
                    </div>
                </div>
           </div> 
        </div>  
        <div id="sector3" style="float: left;width: 100%;" section-scroll="2">  
           <div class="wd_story_wrapper wd_toppadder90 wd_bottompadder90">     
                <div class="container">
                    <div  class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="wd_heading OurTruLoveStoryAnimation" data-wow-delay="0.3s"style="visibility: hidden; animation-delay: 0.3s; animation-name: none;" >
                                <h1>Our true love story</h1>
                            </div>
                        </div>
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        
                                <div id="timeLine" class="wd_story_covers">
                                    <div class="wd_story_line"></div>
                                 <!--    <div class="wd_story_covers_box_left">
                                        <div class="wd_story_dot"><span></span></div>
                                        <div class="wd_story_covers_box_img">
                                            <img src="images/TimeLineStory1.jpg" alt="Story">
                                        </div>
                                        <div class="wd_story_covers_box_datails">
                                            <span>20 May 2010</span>
                                            <h1>Our First Met</h1>
                                            <span>That day changed Life</span>
                                            <p>This is Photoshop's version  of Lorem Ipsum. Proin gravida nibh vel velit auctor aliquet. Aenean sollicitudin, lorem quis bibendum auctor...</p>
                                        </div>
                                    </div>    -->
                                </div>                       
                        </div>             
                    </div>
                </div> 
            </div>
         </div> 
         <div id="sector4" style="float: left;width: 100%;" section-scroll="4">
            <div class="container">
                <div  class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">                      
                        <div id="poll" class="timer">
                            <poll>

                            </poll>
                        </div>
                    </div>
                </div>
            </div>
               

        </div>

        <!-- </div> -->

        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-database.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->

        <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyBE9u9b0jy6_L_DZ9MiyDUiZG8XGh8mg5s",
            authDomain: "mariaalex-b60b7.firebaseapp.com",
            databaseURL: "https://mariaalex-b60b7.firebaseio.com",
            projectId: "mariaalex-b60b7",
            storageBucket: "mariaalex-b60b7.appspot.com",
            messagingSenderId: "238565066982",
            appId: "1:238565066982:web:13a14e5d8a4c97fc6c5327"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        //var database = firebase.database();
        //alert(database);
        </script>
        <script>

                function getCookie(cname) {
                var name = cname + "=";
                var decodedCookie = decodeURIComponent(document.cookie);
                var ca = decodedCookie.split(';');
                for(var i = 0; i <ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                    }
                }
                return "";
                }

               Vue.component('poll',{
                    template: `<div class="vue-poll">
                                <h3 class="qst" v-html="question"></h3>
     
                                <div class="ans-cnt">
                                   
                                 <div v-for="(a,index) in calcAnswers" :key="index" :class="{ ans: true, [a.custom_class]: (a.custom_class) }">
                                        <template v-if="!finalResults">
                                                <div v-if="!visibleResults" :class="{'ans-no-vote noselect': true, active: a.selected }" @click.prevent="handleVote(a)" >
                                                <span class="txt" v-html="a.text"></span>
                                            
                                            </div>   
                                            <div v-else :class="{ 'ans-voted': true, selected: a.selected }" >
                                                <span v-if="a.percent" class="percent" v-text="a.percent"></span> 
                                                <span class="txt" v-html="a.text"></span>          
                                                
                                            </div>  
                                            

                                            <span class="bg" :style="{ width: visibleResults ? a.percent : '0%' }"></span>
                                        </template>
                                        <template v-else>
                                                <div class="ans-voted final">
                                                    <span v-if="a.percent" class="percent" v-text="a.percent"></span>                  
                                                    <span class="txt" v-html="a.text"></span>                                       
                                                </div>
                                            
                                                <span :class="{ bg: true, selected: mostVotes == a.votes }" :style="{ width: a.percent }"></span>
                                        </template>
                                    </div>
                              </div>
                  
                            </div> `
                    ,
                    props: []
                    ,
                    data: function(){
                            return{
                                question: 'What\'s your favourite <strong>JS</strong> framework?',
                                answers: [],
                                // // answers: [
                                //             { value: 1, text: 'Vue', votes: 53 },
                                //             { value: 2, text: 'React', votes: 35 },
                                //             { value: 3, text: 'Angular', votes: 30 },
                                //             { value: 4, text: 'Other', votes: 10 } 
                                //         ],
                                            finalResults: false,
                                            showResults: false,
                                            multiple: false,
                                            visibleResults:false,
                                            vote:false
                                            
                            };
                        }
                        ,
                    mounted() {
                        console.log(this.answers);
                            let self = this;
                            // Find data using the "lists" reference
                            firebase.database().ref("votes/voteList/items").on("value", function(snapshot) { 
                                // let returnArr = [];
                                    snapshot.forEach(function(childSnapshot){
                                    self.answers.push(childSnapshot.val());
                                       
                                    //Fill the local data property with Firebase data
                                    // self.answers = returnArr;
                                });
                            });
                            console.log(self.answers);
                            //navigator.cookieEnabled === true      
                         
                            var vote = getCookie("vote");
                            alert(vote);
                            var TextVote = getCookie("TextVote");
                            alert(TextVote);
                            if (vote =='true'){  
                               // this.visibleResults = true 
                                this.Voted(TextVote)                      
                                vote = true
                            }
                        }
                   ,
                   computed: {  
                    Voted(votedText){
                           // let totalVotes = 0
                            this.answers.filter(a=>{
                                if (a.text==votedText)
                                a.selected = true
                            })
                           // return totalVotes
                        }, 
                        totalVotes(){
                            let totalVotes = 0
                            this.answers.filter(a=>{
                                if (!isNaN(a.votes) && a.votes > 0)
                                    totalVotes += parseInt(a.votes)
                            })
                            return totalVotes
                        },                                     
                    calcAnswers(){
                        
                        return this.answers.map(a=>{
                        //  a.percent = '0%'
                       // alert(a)
                       a.percent = ( Math.round( (parseInt(a.votes)/this.totalVotes ) * 100) ) + '%'
                            return a
                        }) 
                     },
                     
                },
                methods: 
                {
                    handleVote(a){
                        console.log(a);
                        a.selected = true
                        this.visibleResults = true
                        document.cookie = "vote=true; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/;";
                        alert(document.cookie)
                        document.cookie = "TextVote="+ a.text +"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/;";
                        alert(document.cookie)
                        vote = true 
                      
                    }

                }
              });
              new Vue({
                  el: "#poll",
                });

             //  Timer Component 
            Vue.component('Timer',{
                template: `
                <div>
                <div v-show ="statusType !== 'expired'">
                    <div class="year">
                    <span class="number">{{ year }}</span>
                    <div class="format">{{ wordString.year }}</div>
                    </div>
                    <div class="day">
                    <span class="number">{{ days }}</span>
                    <div class="format">{{ wordString.day }}</div>
                    </div>
                    <div class="hour">
                    <span class="number">{{ hours }}</span>
                    <div class="format">{{ wordString.hours }}</div>
                    </div>
                    <div class="min">
                    <span class="number">{{ minutes }}</span>
                    <div class="format">{{ wordString.minutes }}</div>
                    </div>
                    <div class="sec">
                    <span class="number">{{ seconds }}</span>
                    <div class="format">{{ wordString.seconds }}</div>
                    </div>
                </div>
                <div class="message">{{ message }}</div>
                <div class="status-tag" :class="statusType">{{ statusText }}</div>
                </div>
            `,
            props: ['starttime','endtime','trans'] ,
            data: function(){
                return{
                    timer:"",
                wordString: {},
                start: "",
                end: "",
                interval: "",
                year:"",
                days:"",
                minutes:"",
                hours:"",
                seconds:"",
                message:"",
                statusType:"",
                statusText: "",
                
                };
            },
            created: function () {
                    this.wordString = JSON.parse(this.trans);
                },
            mounted(){
                this.start = new Date(this.starttime).getTime();
                this.end = new Date(this.endtime).getTime();
                // Update the count down every 1 second
                this.timerCount(this.start,this.end);
                this.interval = setInterval(() => {
                    this.timerCount(this.start,this.end);
                }, 1000);
            },
            methods: {
                timerCount: function(start,end){
                    // Get todays date and time
                    var now = new Date().getTime();

                    // Find the distance between now an the count down date
                    var distance = now-start;
                    var passTime =  end - now;
                    this.calcTime(distance); 
                    // if(distance < 0 && passTime < 0){
                    //     this.message = this.wordString.expired;
                    //     this.statusType = "expired";
                    //     this.statusText = this.wordString.status.expired;
                    //     clearInterval(this.interval);
                    //     return;

                    // }else if(distance < 0 && passTime > 0){
                    //     this.calcTime(passTime);
                    //     this.message = this.wordString.running;
                    //     this.statusType = "running";
                    //     this.statusText = this.wordString.status.running;

                    // } else if( distance > 0 && passTime > 0 ){
                    //     this.calcTime(distance); 
                    //     this.message = this.wordString.upcoming;
                    //     this.statusType = "upcoming";
                    //     this.statusText = this.wordString.status.upcoming;
                    // }
                },
                calcTime: function(dist){
                // Time calculations for days, hours, minutes and seconds
                    this.year = Math.floor(dist / (1000 * 60 * 60 * 24 *365));
                    this.days = Math.floor(dist % (1000 * 60 * 60 * 24*365)/ (1000 * 60 * 60 * 24));
                    this.hours = Math.floor((dist % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    this.minutes = Math.floor((dist % (1000 * 60 * 60)) / (1000 * 60));
                    this.seconds = Math.floor((dist % (1000 * 60)) / 1000);
                }   
            }
            });

            new Vue({
            el: "#timer",
            });
        </script>
    </body>
</html>	
